{"ast":null,"code":"import _toConsumableArray from \"/Users/NivShani/Desktop/react_practice/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/NivShani/Desktop/react_practice/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/NivShani/Desktop/react_practice/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/NivShani/Desktop/react_practice/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/NivShani/Desktop/react_practice/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/NivShani/Desktop/react_practice/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/NivShani/Desktop/react_practice/src/containers/BurgerBuilder/BurgerBuilder.js\";\nimport React, { Component } from 'react';\nimport Controller from \"../../components/BurgerBuilder/Controller\";\nimport BurgerPreview from \"../../components/BurgerBuilder/BurgerPreview\";\nimport Summary from \"../../components/BurgerBuilder/Summary\";\nimport OrderModal from \"../../components/BurgerBuilder/OrderModal\";\nimport axios from \"../../axios-orders\";\n\nvar BurgerBuilder =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BurgerBuilder, _Component);\n\n  function BurgerBuilder() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BurgerBuilder);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BurgerBuilder)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      ingredients: [{\n        name: \"Cucumber\",\n        quantity: 0,\n        price: 1.00\n      }, {\n        name: \"Tomato\",\n        quantity: 0,\n        price: 1.00\n      }, {\n        name: \"Onion\",\n        quantity: 0,\n        price: 1.00\n      }, {\n        name: \"Lettuce\",\n        quantity: 0,\n        price: 1.50\n      }, {\n        name: \"Cheese\",\n        quantity: 0,\n        price: 2.00\n      }, {\n        name: \"Meat\",\n        quantity: 0,\n        price: 5.50\n      }],\n      sum: 0,\n      isModal: false,\n      loading: false\n    };\n\n    _this.handleIncreaseIngredient = function (i) {\n      _this.setState(function (prevState) {\n        var newIngredients = _toConsumableArray(prevState.ingredients);\n\n        var newSum = prevState.sum + newIngredients[i].price;\n        newIngredients[i].quantity++;\n        return {\n          newIngredients: newIngredients,\n          sum: newSum\n        };\n      });\n    };\n\n    _this.handleDecreaseIngredient = function (i) {\n      _this.setState(function (prevState) {\n        var newIngredients = _toConsumableArray(prevState.ingredients);\n\n        var newSum = prevState.sum;\n\n        if (newIngredients[i].quantity > 0) {\n          newSum -= newIngredients[i].price;\n          newIngredients[i].quantity--;\n        }\n\n        return {\n          newIngredients: newIngredients,\n          sum: newSum\n        };\n      });\n    };\n\n    _this.showOrderSummaryModal = function () {\n      return _this.setState({\n        isModal: true\n      });\n    };\n\n    _this.hideOrderSummaryModal = function () {\n      return _this.setState({\n        isModal: false\n      });\n    };\n\n    _this.proceedToCheckout = function () {\n      _this.setState({\n        loading: true\n      });\n\n      axios.get(\"https://randomuser.me/api/\").then(function (d) {\n        return d.data.results[0];\n      }).then(function (d) {\n        var order = {\n          ingredients: _this.state.ingredients.filter(function (i) {\n            return i.quantity > 0;\n          }).map(function (i) {\n            return \"\".concat(i.name, \" (\").concat(i.quantity, \")\");\n          }),\n          price: \"\".concat(_this.state.sum),\n          customer: {\n            name: \"\".concat(d.name.title, \". \").concat(d.name.first, \" \").concat(d.name.last),\n            email: d.email,\n            address: \"\".concat(d.location.street, \", \").concat(d.location.city)\n          }\n        };\n        axios.post(\"/orders.json\", order).then(function (res) {\n          _this.setState({\n            loading: false\n          });\n        }).catch(function (err) {\n          _this.setState({\n            loading: false\n          });\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BurgerBuilder, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"page-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(OrderModal, {\n        show: this.state.isModal,\n        loading: this.state.loading,\n        hideModal: this.hideOrderSummaryModal,\n        proceed: this.proceedToCheckout,\n        orderDetails: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(BurgerPreview, {\n        ingredients: this.state.ingredients,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(Controller, {\n        ingredients: this.state.ingredients,\n        minus: this.handleDecreaseIngredient,\n        plus: this.handleIncreaseIngredient,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Summary, {\n        sum: this.state.sum,\n        purchasable: this.state.sum > 0,\n        showModal: this.showOrderSummaryModal,\n        hideModal: this.hideOrderSummaryModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BurgerBuilder;\n}(Component);\n\nexport default BurgerBuilder;","map":{"version":3,"sources":["/Users/NivShani/Desktop/react_practice/src/containers/BurgerBuilder/BurgerBuilder.js"],"names":["React","Component","Controller","BurgerPreview","Summary","OrderModal","axios","BurgerBuilder","state","ingredients","name","quantity","price","sum","isModal","loading","handleIncreaseIngredient","i","setState","prevState","newIngredients","newSum","handleDecreaseIngredient","showOrderSummaryModal","hideOrderSummaryModal","proceedToCheckout","get","then","d","data","results","order","filter","map","customer","title","first","last","email","address","location","street","city","post","res","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Controller from \"../../components/BurgerBuilder/Controller\"\nimport BurgerPreview from \"../../components/BurgerBuilder/BurgerPreview\"\nimport Summary from \"../../components/BurgerBuilder/Summary\"\nimport OrderModal from \"../../components/BurgerBuilder/OrderModal\"\nimport axios from \"../../axios-orders\"\n\nclass BurgerBuilder extends Component {\n\n    state = {\n        ingredients: [\n            {name: \"Cucumber\", quantity: 0, price: 1.00},\n            {name: \"Tomato\", quantity: 0, price: 1.00},\n            {name: \"Onion\", quantity: 0, price: 1.00},\n            {name: \"Lettuce\", quantity: 0, price: 1.50},\n            {name: \"Cheese\", quantity: 0, price: 2.00},\n            {name: \"Meat\", quantity: 0, price: 5.50},\n        ],\n        sum: 0,\n        isModal: false,\n        loading: false\n    };\n\n    handleIncreaseIngredient = i => {\n        this.setState((prevState) => {\n            const newIngredients = [...prevState.ingredients];\n            const newSum = prevState.sum + newIngredients[i].price;\n            newIngredients[i].quantity++;\n            return {\n                newIngredients,\n                sum: newSum\n            };\n      });\n    };\n\n    handleDecreaseIngredient = i => {\n        this.setState((prevState) => {\n            const newIngredients = [...prevState.ingredients];\n            let newSum = prevState.sum;\n            if (newIngredients[i].quantity > 0) {\n                newSum -= newIngredients[i].price;\n                newIngredients[i].quantity--;\n            }\n            return {\n                newIngredients,\n                sum: newSum\n            };\n        });\n    };\n\n    showOrderSummaryModal = () => this.setState({isModal: true});\n    hideOrderSummaryModal = () => this.setState({isModal: false});\n\n    proceedToCheckout = () => {\n        this.setState({ loading: true });\n        axios.get(\"https://randomuser.me/api/\")\n            .then (d => d.data.results[0])\n            .then(d => {\n                const order = {\n                    ingredients: this.state.ingredients\n                        .filter(i => i.quantity > 0)\n                        .map(i => `${i.name} (${i.quantity})`),\n                    price: `${this.state.sum}`,\n                    customer: {\n                        name: `${d.name.title}. ${d.name.first} ${d.name.last}`,\n                        email: d.email,\n                        address: `${d.location.street}, ${d.location.city}`\n                    }\n                };\n                axios.post(\"/orders.json\", order)\n                    .then(res => {\n                        this.setState({ loading: false });\n                    })\n                    .catch(err => {\n                        this.setState({ loading: false });\n                    });\n            })\n            .catch(err => console.log(err));\n    };\n\n    render() {\n        return (\n          <div className=\"page-wrapper\">\n              <OrderModal show={this.state.isModal}\n                          loading={this.state.loading}\n                          hideModal={this.hideOrderSummaryModal}\n                          proceed={this.proceedToCheckout}\n                          orderDetails={this.state} />\n              <BurgerPreview ingredients={this.state.ingredients}/>\n              <Controller ingredients={this.state.ingredients}\n                          minus={this.handleDecreaseIngredient}\n                          plus={this.handleIncreaseIngredient} />\n              <Summary sum={this.state.sum} purchasable={this.state.sum > 0}\n                       showModal={this.showOrderSummaryModal}\n                       hideModal={this.hideOrderSummaryModal} />\n          </div>\n        );\n    }\n\n}\n\nexport default BurgerBuilder;"]},"metadata":{},"sourceType":"module"}